<schema>
    <import package='ZConfig.components.logger'/>
    <import package='ZConfig.components.basic' file='mapping.xml'/>

    <sectiontype name="amqp-server">
        <key name="hostname" datatype="string" required="yes" />
        <key name="port" datatype="integer" required="no" />
        <key name="username" datatype="string" required="no" />
        <key name="password" datatype="string" required="no" />
        <key name="virtual_host" datatype="string" required="no" default="/" />
        <key name="heartbeat_interval" datatype="integer" required="no" default="0" />
    </sectiontype>

    <sectiontype name="worker">
        <key name="amount" datatype="integer" required="yes" />
        <key name="component-configuration" datatype="existing-file" required="yes" />
    </sectiontype>

    <sectiontype
        name="settings"
        extends="ZConfig.basic.mapping"
        />

    <section type="eventlog" name="*" attribute="eventlog" required="yes" />
    <multisection type="logger" attribute="loggers" name="*" required="no">
      <description>
        Additional loggers for specific subsystems
      </description>
    </multisection>
    <section type="amqp-server" name="*" attribute="amqp_server" required="yes" />
    <section type="worker" name="*" attribute="worker" required="yes" />
    <section type="settings" name="*" attribute="settings" required="no" />

</schema>
